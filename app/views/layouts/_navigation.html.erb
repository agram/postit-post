<ul class="nav">
  <li>
    <%= link_to "Postit!", root_path, :class => 'brand' %>
  </li>
</ul>

<% if logged_in? %> <!-- User dropdown -->
  <ul class="nav">
    <li class="dropdown">
      <%= link_to "#", class: "dropdown-toggle", "data-toggle" => "dropdown" do %>
        Hi, <%= current_user.username %>!
        <b class="caret"></b>
      <% end %>
      <ul class="dropdown-menu">
        <li>
          <%= link_to edit_user_path(current_user) do %>
            <i class="icon-edit"></i>
            update profile
          <% end %>
        </li>
        <li>
          <%= link_to logout_path do %>
            <i class="icon-arrow-right"></i>
            log out
          <% end %>
        </li>
      </ul>
    </li>
  </ul> <!-- End of User dropdown -->

  <div class="nav_item"> <!-- Create post button -->
    <%= link_to new_post_path, class: 'btn btn-info' do %>
      <i class="icon-plus icon-white"></i> create post
    <% end %>
  </div>

<% else %>
  <div class="nav_item"> <!-- Register button -->
    <%= link_to 'register', register_path, class: 'btn btn-success' %>
  </div>

  <div class="nav_item"> <!-- Login button -->
    <%= link_to 'login', login_path, class: 'btn btn-inverse' %>
  </div>
<% end %>

<div class="btn-group nav_item"> <!-- Categories dropdown -->
  <%= link_to '#', class: "btn dropdown-toggle", 'data-toggle' => 'dropdown' do %>
    categories <span class="caret"></span>
  <% end %>
  <ul class="dropdown-menu">
    <% Category.all.each do |category| %>
      <li>
        <%= link_to category.name, category_path(category)  %>
      </li>
    <% end %>

    <% if logged_in? %>
        <li class="divider"></li>
      <li>
        <%= link_to new_category_path do %>
              <i class="icon-plus"></i>
              New Category
      </li>
      <% end %>
    <% end %>
  </ul>
</div> <!-- End of dropdown -->

